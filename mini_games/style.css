/* Reset & Base */
* { margin:0; padding:0; box-sizing:border-box; }
html, body { width:100%; height:100%; overflow:hidden; font-family:Arial,sans-serif; }

/* Background Videos */
.bg-video {
  position:fixed; inset:0; width:100%; height:100%; object-fit:cover;
  opacity:0; transition:opacity 1s ease-in-out; z-index:-1;
}
.bg-video.visible { opacity:1; }
.bg-video.hidden  { opacity:0; pointer-events:none; }

/* Loader */
#loader {
  position:fixed; inset:0;
  display:flex; justify-content:center; align-items:center;
  background:rgba(0,0,0,0.6); z-index:10;
}
.loader-text {
  font-size:3rem; color:#fff; font-weight:bold;
  animation:fadePop 3s ease forwards;
}
.loader-text .blue   { color:#1E90FF; margin-right:.3rem; }
.loader-text .purple { color:#9370DB; }
@keyframes fadePop {
  0% { opacity:0; transform:scale(.5) }
 20% { opacity:1; transform:scale(1)  }
100% { opacity:0; transform:scale(.5) }
}

/* Menu & Screens */
.menu, .screen {
  position:fixed; inset:0;
  display:flex; justify-content:center; align-items:center;
  transition:opacity .5s ease; z-index:5; opacity:0;
}
.menu.visible { opacity:1; }
.menu.hidden  { opacity:0; pointer-events:none; }
.screen.hidden { opacity:0; pointer-events:none; }
.screen.visible { opacity:1; }

/* Cards */
.cards-container {
  display:flex; gap:2rem; touch-action:manipulation;
}
.cards-container.showing {
  transition: opacity .5s ease;
}
.card {
  width:300px; height:300px; border-radius:12px;
  display:flex; justify-content:center; align-items:center;
  color:#fff; font-size:1.25rem;
  transform:scale(0); opacity:0;
  transition:transform .4s,opacity .4s;
}
.card.show { transform:scale(1); opacity:1; }

.card.blue   { background:rgba(30,144,255,0.6); }
.card.purple { background:rgba(147,112,219,0.6); }

/* Pulsing neon on hover */
@keyframes neonPulse {
  0%,100% {
    box-shadow:0 0 10px rgba(255,255,255,0.2),
               inset 0 0 20px rgba(255,255,255,0.1);
    transform:scale(1);
  }
  50% {
    box-shadow:0 0 30px rgba(255,255,255,0.6),
               inset 0 0 40px rgba(255,255,255,0.3);
    transform:scale(1.03);
  }
}
.card:hover {
  animation:neonPulse 1.2s ease-in-out infinite;
  cursor:pointer;
}

/* Exit button */
.exit {
  position:absolute; top:.5rem; left:.5rem;
  background:rgba(0,0,0,0.4); padding:.4rem; border-radius:50%;
  cursor:pointer; z-index:20;
}
.exit img { width:24px; height:24px; }

/* Screen Content wrapper */
.screen-content {
  width:90vw; max-width:400px; padding:1.2rem;
  border-radius:12px; text-align:center; color:#fff;
}
@media(min-width:601px){
  .screen-content { overflow:hidden; }
}

/* === MEMORY GRID & CARDS === */
.memory-grid {
  display:grid;
  grid-template-columns:repeat(4,1fr);
  gap:10px;
  margin:1rem 0;
  /* constrain for phones */
  max-width:300px;
  width:90vw;
  margin-left:auto;
  margin-right:auto;
}
.memory-card {
  position:relative;
  width:100%; padding-bottom:100%;
  background:#333; border-radius:8px;
  transform-style:preserve-3d;
  transition:transform .5s;
}
.memory-front, .memory-back {
  position:absolute; inset:0; backface-visibility:hidden;
  border-radius:8px;
}
.memory-front { background:#333; }
.memory-back {
  transform:rotateY(180deg);
  display:flex; align-items:center; justify-content:center;
  font-size:2rem; background:#fff;
}
.memory-card.flip { transform:perspective(600px) rotateY(180deg); }
.memory-card.matched { visibility:hidden; }

/* shrink cards on small screens */
.memory-card { max-width:80px; max-height:80px; }
@media(max-width:360px){
  .memory-card { max-width:60px; max-height:60px; }
}

/* === INFO TEXTS === */
.memory-info, .reaction-info {
  margin-top:.8rem; color:#fff; font-size:1rem;
}

/* === BUTTONS === */
.neon-btn {
  margin:.5rem auto; padding:.6em 2em; font-size:1.1rem;
  font-weight:bold; background:#9600d4; border:none;
  border-radius:2em;
  box-shadow:0 0 12px #d388fc,inset 0 0 42px #9f3ff5c0;
  color:#fff; text-shadow:0 0 6px #fff;
  cursor:pointer; transition:.2s;
}
.neon-btn:hover { box-shadow:0 0 36px #d388fc; background:#ba41ff; }

/* Blue neon variant for Memory Ready/Replay */
.blue-btn {
  background:#1E90FF!important;
  box-shadow:0 0 12px #5AB3FF,
             inset 0 0 42px #8AD7FF!important;
  color:#fff!important;
}
.blue-btn:hover {
  background:#4DAEFF!important;
  box-shadow:0 0 36px #5AB3FF!important;
}

/* === REACTION AREA & BOX === */
.reaction-area {
  margin:1rem auto; width:80vw; max-width:260px;
  height:200px; background:rgba(255,255,255,0.2);
  border-radius:8px; display:flex;
  align-items:center; justify-content:center;
}
.reaction-box {
  width:200px; height:200px; background:#fff;
  border:4px solid #27e5d7; border-radius:6px;
  box-shadow:0 0 20px #00ffc8bb;
  opacity:0; pointer-events:none; transition:.2s;
}
.reaction-box.show {
  opacity:1; pointer-events:auto;
}

/* STACK menu cards on mobile */
@media(max-width:600px){
  .cards-container {
    flex-direction:column;
    align-items:center;
    gap:1.5rem;
    padding:0 1rem;
  }
  .card {
    width:90vw; max-width:300px; height:auto;
    padding:2rem 0; text-align:center;
  }
}
